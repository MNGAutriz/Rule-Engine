{"timestamp":"2025-07-07T14:02:20.584Z","level":"ERROR","message":"Event processing error","data":{"message":"Missing required fields: productLine","stack":"Error: Missing required fields: productLine\n    at ValidationHelpers.validateEventData (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:27:13)\n    at processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:14:25)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-07T14:02:20.587Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Missing required fields: productLine","stack":"Error: Missing required fields: productLine\n    at ValidationHelpers.validateEventData (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:27:13)\n    at processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:14:25)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-07T14:14:52.494Z","level":"ERROR","message":"Event processing error","data":{"message":"Missing required fields: eventId, timestamp, channel, productLine","stack":"Error: Missing required fields: eventId, timestamp, channel, productLine\n    at ValidationHelpers.validateEventData (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:27:13)\n    at processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:14:25)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-07T14:14:52.496Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Missing required fields: eventId, timestamp, channel, productLine","stack":"Error: Missing required fields: eventId, timestamp, channel, productLine\n    at ValidationHelpers.validateEventData (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:27:13)\n    at processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:14:25)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-07T14:27:50.757Z","level":"ERROR","message":"Recycling limit exceeded. You have recycled 8 bottles this year and can only recycle 0 more (max 5/year). Requested: 3"}
{"timestamp":"2025-07-07T14:32:34.857Z","level":"ERROR","message":"Recycling limit exceeded. You have recycled 8 bottles this year and can only recycle 0 more (max 5/year). Requested: 3"}
{"timestamp":"2025-07-08T00:34:48.718Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.721Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.783Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.785Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.813Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.816Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.868Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.871Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.562Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.566Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.590Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.593Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.666Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.668Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.690Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.693Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.531Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.534Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.633Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.636Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.671Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.675Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.750Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.753Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.363Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.366Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.427Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.431Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.454Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.458Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.522Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.525Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.233Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.235Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.253Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.255Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.319Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.323Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.344Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.347Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.795Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.798Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.835Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.838Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.929Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.932Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.963Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.966Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:30.862Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:30.864Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:30.924Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:30.927Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:30.949Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:30.951Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:31.007Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:31.009Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.103Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.107Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.269Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.273Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.323Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.328Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.483Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.486Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.214Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.216Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.297Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.301Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.333Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.335Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.420Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.422Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.022Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.025Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.111Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.114Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.150Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.153Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.255Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.258Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:15.761Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:15.765Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:15.883Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:15.887Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:15.956Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:15.959Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:16.053Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:16.055Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:28.719Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:28.726Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:28.942Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:28.946Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:29.032Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:29.037Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:29.223Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:29.240Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.463Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.465Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.547Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.551Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.593Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.595Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.671Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.675Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.301Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.306Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.472Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.474Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.527Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.532Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.689Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.693Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.244Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.247Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.277Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.281Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.362Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.365Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.393Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.396Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:10.997Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.002Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.145Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.149Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.191Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.195Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.345Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.351Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:42.932Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:42.937Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:43.085Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:43.092Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:43.138Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:43.144Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:43.315Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:43.319Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.051Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.054Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.207Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.211Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.241Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.246Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.401Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.405Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:14.777Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:14.782Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:14.919Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:14.922Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:14.967Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:14.971Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:15.110Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:15.116Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.571Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.574Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.617Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.618Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.632Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.634Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.672Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.674Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.297Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.298Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.348Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.350Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.388Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.390Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.452Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.454Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.312Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.315Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.391Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.394Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.426Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.429Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.512Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.515Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.028Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.031Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.105Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.109Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.138Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.142Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.220Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.223Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:56.925Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:56.927Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:57.009Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:57.012Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:57.036Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:57.038Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:57.141Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:57.144Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:59.993Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:59.996Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:00.072Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:00.074Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:00.100Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:00.103Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:00.151Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:00.153Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.675Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.678Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.752Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.755Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.775Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.778Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.882Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.884Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.255Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.258Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.353Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.356Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.376Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.378Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.475Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.478Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.063Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.068Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.129Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.132Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.154Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.157Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.233Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.236Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.765Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.768Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.818Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.820Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.836Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.838Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.890Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.892Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.062Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.064Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.137Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.140Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.161Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.163Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.225Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.227Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.783Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.787Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.853Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.854Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.871Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.873Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.938Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.940Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.588Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.590Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.667Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.670Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.689Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.690Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.738Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.739Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:23.909Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:23.911Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:23.990Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:23.992Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:24.018Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:24.020Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:24.129Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:24.133Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.495Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.497Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.562Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.565Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.585Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.587Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.640Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.642Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.408Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.411Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.495Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.498Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.522Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.526Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.599Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.600Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.044Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.046Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.096Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.098Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.116Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.118Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.171Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.173Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.125Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.130Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.181Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.183Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.200Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.202Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.250Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.252Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.433Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.436Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.488Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.490Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.510Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.513Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.563Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.565Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.579Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.583Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.630Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.632Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.652Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.654Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.705Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.707Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.136Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.138Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.187Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.188Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.205Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.206Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.253Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.255Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.176Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.179Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.224Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.226Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.241Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.243Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.290Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.292Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.893Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.894Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.911Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.913Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.968Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.971Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.989Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.991Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.269Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.271Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.291Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.293Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.343Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.345Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.364Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.366Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:35.988Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:35.990Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:36.009Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:36.012Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:36.059Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:36.061Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:36.078Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:36.080Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.017Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.020Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.040Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.042Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.088Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.090Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.109Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.112Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.462Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.464Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.539Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.542Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.561Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.563Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.657Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.660Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.210Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.212Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.282Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.285Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.313Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.316Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.389Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.391Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:57.983Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:57.986Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:58.004Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:58.006Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:58.052Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:58.054Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:58.074Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:58.076Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.457Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.460Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.480Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.482Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.528Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.529Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.546Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.547Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.149Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.152Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.169Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.171Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.216Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.218Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.237Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.239Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.842Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.845Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.893Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.895Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.912Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.914Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.964Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.966Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.779Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.781Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.826Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.828Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.843Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.845Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.888Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.889Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:23.813Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:23.816Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:23.926Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:23.929Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:23.954Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:23.957Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:24.053Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:24.055Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.288Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.291Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.340Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.342Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.364Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.366Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.430Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.433Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.194Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.196Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.252Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.255Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.274Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.278Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.330Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.333Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.784Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.785Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.832Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.834Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.848Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.850Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.898Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.900Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.342Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.345Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.398Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.399Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.436Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.439Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.516Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.517Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.823Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.825Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.889Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.892Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:27.079Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:27.081Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:27.197Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:27.199Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.232Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.234Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.298Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.300Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.318Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.319Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.383Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.385Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.363Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.365Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.381Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.383Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.427Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.430Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.446Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.447Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.195Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.197Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.249Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.251Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.273Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.276Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.326Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.328Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.901Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.904Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.925Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.928Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.978Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.979Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.996Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.998Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.407Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.409Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.473Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.476Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.495Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.498Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.562Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.565Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.506Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.508Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.529Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.531Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.588Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.590Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.611Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.613Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.522Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.524Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.577Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.580Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.599Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.602Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.666Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.670Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.406Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.408Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.423Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.426Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.470Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.472Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.487Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.489Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.396Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.398Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.415Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.417Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.470Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.473Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.491Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.493Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.400Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.403Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.459Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.463Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.479Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.481Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.525Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.527Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.602Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.604Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.652Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.654Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.674Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.676Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.734Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.736Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.518Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.519Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.546Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.550Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.631Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.634Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.660Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.662Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.399Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.401Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.450Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.453Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.470Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.472Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.522Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.524Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.396Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.398Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.448Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.450Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.470Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.472Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.517Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.519Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.351Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.353Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.398Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.400Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.415Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.417Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.464Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.467Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.514Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.517Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.564Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.566Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.583Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.585Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.632Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.634Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.195Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.197Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.272Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.275Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.301Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.305Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.368Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.371Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.361Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.363Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.408Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.410Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.428Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.430Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.499Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.501Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.841Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.843Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.906Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.908Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:43.050Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:43.051Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:43.186Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:43.188Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.373Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.375Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.443Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.445Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.462Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.464Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.545Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.547Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.839Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.843Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.905Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.907Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:31.183Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:31.184Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:31.225Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:31.227Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.363Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.366Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.412Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.414Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.432Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.435Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.541Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.544Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.870Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.872Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.936Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.938Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:45.120Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:45.122Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:45.256Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:45.259Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.162Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.166Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.238Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.241Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.266Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.267Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.318Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.320Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.292Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.293Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.337Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.339Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.358Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.360Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.422Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.424Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.768Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.771Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.835Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.839Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.984Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.986Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:04.115Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:04.117Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.352Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.355Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.414Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.415Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.431Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.432Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.515Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.517Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.773Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.775Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.834Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.836Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:17.112Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:17.114Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:17.156Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:17.158Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.357Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.359Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.452Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.454Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.473Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.475Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.556Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.559Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.835Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.837Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.897Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.898Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:25.156Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:25.158Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:25.201Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:25.203Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.159Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.163Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.183Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.186Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.235Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.238Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.257Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.260Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.120Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.123Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.180Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.193Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.218Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.222Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.287Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.290Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:01.874Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:01.877Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:01.940Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:01.942Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:01.958Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:01.960Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:02.023Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:02.026Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.582Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.584Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.600Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.602Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.647Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.649Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.669Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.671Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.694Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.696Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.764Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.765Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.784Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.786Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.853Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.855Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.555Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.558Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.614Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.617Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.634Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.636Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.685Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.687Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.322Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.325Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.393Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.395Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.423Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.426Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.494Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.497Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:02.891Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:02.894Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:02.959Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:02.962Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:02.984Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:02.987Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.052Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.055Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.632Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.634Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.708Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.711Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.748Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.751Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.900Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.903Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.257Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.260Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.333Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.335Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.526Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.528Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.567Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.571Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.311Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.314Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.418Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.421Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.454Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.457Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.564Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.567Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:42.991Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:42.993Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:43.046Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:43.048Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:43.066Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:43.068Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:43.127Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:43.130Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.157Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.160Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.204Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.206Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.222Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.224Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.270Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.272Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.847Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.850Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.911Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.913Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.934Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.936Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.994Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.996Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:58.640Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:58.643Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:58.708Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:58.711Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:58.727Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:58.729Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.123Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.126Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.179Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.181Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.198Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.200Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.253Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.256Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:00:52.582Z","level":"ERROR","message":"Error updating campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:299:13)\n    at CampaignController.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:100:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:00:52.595Z","level":"ERROR","message":"Error deleting campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:326:13)\n    at CampaignController.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:134:34)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:02:04.876Z","level":"ERROR","message":"Error updating campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:299:13)\n    at CampaignController.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:100:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:02:04.887Z","level":"ERROR","message":"Error deleting campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:326:13)\n    at CampaignController.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:134:34)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:03:58.375Z","level":"ERROR","message":"Error updating campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:299:13)\n    at CampaignController.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:100:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:03:58.389Z","level":"ERROR","message":"Error deleting campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:326:13)\n    at CampaignController.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:134:34)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:06:53.939Z","level":"ERROR","message":"Error updating campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:299:13)\n    at CampaignController.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:100:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:06:53.955Z","level":"ERROR","message":"Error deleting campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:326:13)\n    at CampaignController.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:134:34)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:08:30.023Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.025Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.091Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.093Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.113Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.116Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.169Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.171Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.576Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.578Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.635Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.638Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.656Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.659Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.715Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.717Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.583Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.586Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.630Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.633Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.651Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.653Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.700Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.703Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:45:16.909Z","level":"ERROR","message":"Error creating campaign","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:16.913Z","level":"ERROR","message":"API Error on POST /api/campaigns","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:29.642Z","level":"ERROR","message":"Error creating campaign","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:29.646Z","level":"ERROR","message":"API Error on POST /api/campaigns","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:48.160Z","level":"ERROR","message":"Error creating campaign","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:48.163Z","level":"ERROR","message":"API Error on POST /api/campaigns","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:49.364Z","level":"ERROR","message":"Error creating campaign","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:49.368Z","level":"ERROR","message":"API Error on POST /api/campaigns","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:49.743Z","level":"ERROR","message":"Error creating campaign","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:49.746Z","level":"ERROR","message":"API Error on POST /api/campaigns","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:55:28.314Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.316Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.353Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.355Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.367Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.369Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.405Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.407Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.610Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.612Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.664Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.666Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.706Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.708Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.758Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.760Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.373Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.375Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.433Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.435Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.450Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.452Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.504Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.505Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.053Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.055Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.121Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.124Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.141Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.144Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.243Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.246Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.306Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.308Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.372Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.375Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.402Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.404Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.454Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.456Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.859Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.860Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.901Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.903Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.915Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.917Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.960Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.962Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.128Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.134Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.164Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.167Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.228Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.230Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.254Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.257Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.493Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.503Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.528Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.533Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.611Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.615Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.644Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.646Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.737Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.739Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.822Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.825Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.845Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.847Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.921Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.923Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.587Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.589Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.665Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.669Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.696Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.699Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.775Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.777Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.429Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.432Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.542Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.546Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.632Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.635Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.753Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.756Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
