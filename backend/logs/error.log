{"timestamp":"2025-07-07T14:02:20.584Z","level":"ERROR","message":"Event processing error","data":{"message":"Missing required fields: productLine","stack":"Error: Missing required fields: productLine\n    at ValidationHelpers.validateEventData (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:27:13)\n    at processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:14:25)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-07T14:02:20.587Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Missing required fields: productLine","stack":"Error: Missing required fields: productLine\n    at ValidationHelpers.validateEventData (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:27:13)\n    at processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:14:25)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-07T14:14:52.494Z","level":"ERROR","message":"Event processing error","data":{"message":"Missing required fields: eventId, timestamp, channel, productLine","stack":"Error: Missing required fields: eventId, timestamp, channel, productLine\n    at ValidationHelpers.validateEventData (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:27:13)\n    at processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:14:25)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-07T14:14:52.496Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Missing required fields: eventId, timestamp, channel, productLine","stack":"Error: Missing required fields: eventId, timestamp, channel, productLine\n    at ValidationHelpers.validateEventData (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:27:13)\n    at processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:14:25)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-07T14:27:50.757Z","level":"ERROR","message":"Recycling limit exceeded. You have recycled 8 bottles this year and can only recycle 0 more (max 5/year). Requested: 3"}
{"timestamp":"2025-07-07T14:32:34.857Z","level":"ERROR","message":"Recycling limit exceeded. You have recycled 8 bottles this year and can only recycle 0 more (max 5/year). Requested: 3"}
{"timestamp":"2025-07-08T00:34:48.718Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.721Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.783Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.785Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.813Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.816Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.868Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:34:48.871Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.562Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.566Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.590Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.593Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.666Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.668Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.690Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:39:05.693Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.531Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.534Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.633Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.636Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.671Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.675Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.750Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T00:41:36.753Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.363Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.366Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.427Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.431Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.454Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.458Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.522Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:10:36.525Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.233Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.235Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.253Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.255Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.319Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.323Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.344Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:14:37.347Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.795Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.798Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.835Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.838Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.929Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.932Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.963Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:18:03.966Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:30.862Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:30.864Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:30.924Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:30.927Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:30.949Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:30.951Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:31.007Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:21:31.009Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.103Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.107Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.269Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.273Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.323Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.328Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.483Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:22:23.486Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.214Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.216Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.297Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.301Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.333Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.335Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.420Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:28:01.422Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.022Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.025Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.111Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.114Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.150Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.153Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.255Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:11.258Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:15.761Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:15.765Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:15.883Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:15.887Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:15.956Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:15.959Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:16.053Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:29:16.055Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:28.719Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:28.726Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:28.942Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:28.946Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:29.032Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:29.037Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:29.223Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:30:29.240Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.463Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.465Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.547Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.551Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.593Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.595Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.671Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:38:38.675Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.301Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.306Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.472Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.474Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.527Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.532Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.689Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T01:57:12.693Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.244Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.247Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.277Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.281Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.362Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.365Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.393Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:16:44.396Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:10.997Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.002Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.145Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.149Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.191Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.195Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.345Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:11.351Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:42.932Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:42.937Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:43.085Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:43.092Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:43.138Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:43.144Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:43.315Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:45:43.319Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.051Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.054Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.207Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.211Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.241Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.246Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.401Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:46:12.405Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:14.777Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:14.782Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:14.919Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:14.922Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:14.967Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:14.971Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:15.110Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T02:48:15.116Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.571Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.574Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.617Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.618Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.632Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.634Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.672Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:48:13.674Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.297Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.298Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.348Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.350Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.388Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.390Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.452Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T04:51:51.454Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.312Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.315Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.391Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.394Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.426Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.429Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.512Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:00:56.515Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.028Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.031Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.105Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.109Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.138Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.142Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.220Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:01:08.223Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:56.925Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:56.927Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:57.009Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:57.012Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:57.036Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:57.038Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:57.141Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:57.144Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:59.993Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:02:59.996Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:00.072Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:00.074Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:00.100Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:00.103Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:00.151Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:00.153Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.675Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.678Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.752Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.755Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.775Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.778Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.882Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:10.884Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.255Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.258Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.353Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.356Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.376Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.378Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.475Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:03:16.478Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.063Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.068Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.129Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.132Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.154Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.157Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.233Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:09:13.236Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.765Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.768Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.818Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.820Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.836Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.838Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.890Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:11:58.892Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.062Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.064Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.137Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.140Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.161Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.163Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.225Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:12:16.227Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.783Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.787Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.853Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.854Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.871Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.873Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.938Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:46.940Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.588Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.590Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.667Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.670Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.689Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.690Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.738Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:13:50.739Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:23.909Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:23.911Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:23.990Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:23.992Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:24.018Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:24.020Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:24.129Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:14:24.133Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.495Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.497Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.562Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.565Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.585Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.587Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.640Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:18:30.642Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.408Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.411Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.495Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.498Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.522Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.526Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.599Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:29.600Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.044Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.046Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.096Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.098Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.116Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.118Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.171Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:19:46.173Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.125Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.130Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.181Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.183Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.200Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.202Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.250Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:06.252Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.433Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.436Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.488Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.490Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.510Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.513Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.563Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:47:21.565Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.579Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.583Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.630Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.632Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.652Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.654Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.705Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:07.707Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.136Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.138Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.187Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.188Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.205Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.206Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.253Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:51:41.255Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.176Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.179Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.224Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.226Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.241Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.243Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.290Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T05:53:30.292Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.893Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.894Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.911Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.913Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.968Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.971Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.989Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:31.991Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.269Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.271Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.291Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.293Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.343Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.345Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.364Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:34.366Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:35.988Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:35.990Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:36.009Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:36.012Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:36.059Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:36.061Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:36.078Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:36.080Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.017Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.020Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.040Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.042Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.088Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.090Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.109Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:39.112Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.462Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.464Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.539Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.542Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.561Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.563Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.657Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:43.660Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.210Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.212Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.282Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.285Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.313Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.316Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.389Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:14:48.391Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:57.983Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:57.986Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:58.004Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:58.006Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:58.052Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:58.054Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:58.074Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:27:58.076Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.457Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.460Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.480Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.482Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.528Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.529Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.546Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:00.547Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.149Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.152Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.169Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.171Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.216Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.218Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.237Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:28:02.239Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.842Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.845Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.893Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.895Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.912Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.914Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.964Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:31:20.966Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.779Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.781Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.826Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.828Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.843Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.845Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.888Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:34:08.889Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:23.813Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:23.816Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:23.926Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:23.929Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:23.954Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:23.957Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:24.053Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:35:24.055Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.288Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.291Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.340Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.342Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.364Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.366Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.430Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:40:19.433Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.194Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.196Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.252Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.255Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.274Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.278Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.330Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T06:51:10.333Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.784Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.785Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.832Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.834Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.848Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.850Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.898Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:01.900Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.342Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.345Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.398Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.399Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.436Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.439Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.516Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.517Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.823Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.825Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.889Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:26.892Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:27.079Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:27.081Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:27.197Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:01:27.199Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.232Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.234Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.298Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.300Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.318Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.319Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.383Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:02:00.385Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.363Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.365Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.381Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.383Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.427Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.430Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.446Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:03:09.447Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.195Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.197Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.249Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.251Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.273Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.276Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.326Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:03.328Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.901Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.904Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.925Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.928Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.978Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.979Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.996Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:20.998Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.407Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.409Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.473Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.476Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.495Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.498Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.562Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:33.565Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.506Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.508Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.529Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.531Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.588Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.590Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.611Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:04:52.613Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.522Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.524Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.577Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.580Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.599Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.602Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.666Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:06.670Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.406Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.408Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.423Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.426Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.470Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.472Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.487Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:20.489Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.396Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.398Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.415Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.417Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.470Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.473Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.491Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:34.493Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.400Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.403Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.459Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.463Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.479Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.481Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.525Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:48.527Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.602Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.604Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.652Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.654Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.674Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.676Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.734Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:05:56.736Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.518Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.519Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.546Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.550Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.631Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.634Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.660Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:04.662Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.399Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.401Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.450Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.453Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.470Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.472Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.522Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:18.524Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.396Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.398Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.448Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.450Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.470Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.472Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.517Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:30.519Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.351Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.353Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.398Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.400Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.415Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.417Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.464Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:06:52.467Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.514Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.517Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.564Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.566Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.583Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.585Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.632Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:30.634Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.195Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.197Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.272Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.275Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.301Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.305Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.368Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:37.371Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.361Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.363Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.408Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.410Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.428Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.430Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.499Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.501Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.841Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.843Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.906Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:42.908Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:43.050Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:43.051Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:43.186Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:07:43.188Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.373Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.375Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.443Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.445Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.462Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.464Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.545Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.547Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.839Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.843Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.905Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:30.907Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:31.183Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:31.184Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:31.225Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:31.227Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.363Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.366Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.412Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.414Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.432Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.435Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.541Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.544Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.870Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.872Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.936Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:44.938Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:45.120Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:45.122Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:45.256Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:08:45.259Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.162Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.166Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.238Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.241Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.266Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.267Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.318Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:09:43.320Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.292Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.293Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.337Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.339Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.358Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.360Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.422Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.424Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.768Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.771Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.835Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.839Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.984Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:03.986Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:04.115Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:04.117Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.352Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.355Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.414Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.415Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.431Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.432Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.515Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.517Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.773Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.775Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.834Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:16.836Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:17.112Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:17.114Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:17.156Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:17.158Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.357Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.359Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.452Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.454Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.473Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.475Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.556Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.559Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.835Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.837Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.897Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:24.898Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:25.156Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:25.158Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:25.201Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:10:25.203Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.159Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.163Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.183Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.186Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.235Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.238Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.257Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:21.260Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.120Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.123Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.180Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.193Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.218Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.222Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.287Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:14:30.290Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:01.874Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:01.877Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:01.940Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:01.942Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:01.958Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:01.960Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:02.023Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:17:02.026Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.582Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.584Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.600Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.602Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.647Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.649Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.669Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:00.671Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.694Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.696Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.764Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.765Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.784Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.786Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.853Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:27:01.855Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.555Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.558Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.614Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.617Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.634Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.636Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.685Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:29:58.687Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.322Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.325Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.393Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.395Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.423Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.426Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.494Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:30:00.497Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:02.891Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:02.894Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:02.959Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:02.962Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:02.984Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:02.987Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.052Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.055Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.632Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.634Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.708Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.711Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.748Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.751Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.900Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:03.903Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.257Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.260Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.333Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.335Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.526Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.528Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.567Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:34:04.571Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.311Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.314Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.418Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.421Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.454Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.457Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.564Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:00.567Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:42.991Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:42.993Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:43.046Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:43.048Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:43.066Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:43.068Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:43.127Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:45:43.130Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.157Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.160Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.204Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.206Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.222Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.224Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.270Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:54:43.272Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.847Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.850Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.911Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.913Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.934Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.936Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.994Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:56.996Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:58.640Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:58.643Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:58.708Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:58.711Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:58.727Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:57:58.729Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.123Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.126Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.179Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.181Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.198Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.200Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.253Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T07:59:58.256Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:00:52.582Z","level":"ERROR","message":"Error updating campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:299:13)\n    at CampaignController.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:100:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:00:52.595Z","level":"ERROR","message":"Error deleting campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:326:13)\n    at CampaignController.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:134:34)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:02:04.876Z","level":"ERROR","message":"Error updating campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:299:13)\n    at CampaignController.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:100:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:02:04.887Z","level":"ERROR","message":"Error deleting campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:326:13)\n    at CampaignController.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:134:34)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:03:58.375Z","level":"ERROR","message":"Error updating campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:299:13)\n    at CampaignController.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:100:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:03:58.389Z","level":"ERROR","message":"Error deleting campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:326:13)\n    at CampaignController.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:134:34)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:06:53.939Z","level":"ERROR","message":"Error updating campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:299:13)\n    at CampaignController.updateCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:100:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:06:53.955Z","level":"ERROR","message":"Error deleting campaign","data":{"message":"Campaign not found","stack":"Error: Campaign not found\n    at CampaignService.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:326:13)\n    at CampaignController.deleteCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:134:34)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:421:3)"}}
{"timestamp":"2025-07-08T08:08:30.023Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.025Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.091Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.093Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.113Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.116Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.169Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:08:30.171Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.576Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.578Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.635Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.638Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.656Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.659Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.715Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:11:00.717Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.583Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.586Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.630Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.633Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.651Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.653Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.700Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:21:50.703Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:45:16.909Z","level":"ERROR","message":"Error creating campaign","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:16.913Z","level":"ERROR","message":"API Error on POST /api/campaigns","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:29.642Z","level":"ERROR","message":"Error creating campaign","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:29.646Z","level":"ERROR","message":"API Error on POST /api/campaigns","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:48.160Z","level":"ERROR","message":"Error creating campaign","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:48.163Z","level":"ERROR","message":"API Error on POST /api/campaigns","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:49.364Z","level":"ERROR","message":"Error creating campaign","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:49.368Z","level":"ERROR","message":"API Error on POST /api/campaigns","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:49.743Z","level":"ERROR","message":"Error creating campaign","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:45:49.746Z","level":"ERROR","message":"API Error on POST /api/campaigns","data":{"message":"Priority is required","stack":"Error: Priority is required\n    at CampaignService.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\CampaignService.js:250:13)\n    at CampaignController.createCampaign (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\campaignController.js:60:49)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)"}}
{"timestamp":"2025-07-08T08:55:28.314Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.316Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.353Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.355Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.367Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.369Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.405Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:55:28.407Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.610Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.612Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.664Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.666Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.706Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.708Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.758Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:56:11.760Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.373Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.375Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.433Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.435Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.450Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.452Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.504Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:58:00.505Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.053Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.055Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.121Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.124Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.141Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.144Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.243Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T08:59:00.246Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.306Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.308Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.372Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.375Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.402Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.404Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.454Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:16:11.456Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.859Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.860Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.901Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.903Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.915Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.917Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.960Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-08T09:18:51.962Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.128Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.134Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.164Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.167Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.228Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.230Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.254Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T02:28:31.257Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.493Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.503Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.528Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.533Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.611Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.615Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.644Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:51:32.646Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.737Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.739Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.822Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.825Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.845Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.847Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.921Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T04:52:32.923Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.587Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.589Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.665Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.669Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.696Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.699Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.775Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:23.777Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.429Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.432Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.542Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.546Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.632Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.635Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.753Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-09T05:20:50.756Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule Engine - Experiment\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:10.077Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:10.081Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:10.176Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:10.179Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:10.261Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:10.263Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:10.365Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:10.367Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:14.480Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:14.483Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:14.576Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:14.579Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:14.605Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:14.608Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:14.710Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:14.714Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:50.064Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:50.066Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:50.142Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:50.144Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:50.171Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:50.174Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:50.244Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:56:50.248Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:51.972Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:51.974Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:52.078Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:52.081Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:52.159Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:52.162Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:52.255Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:52.258Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:54.797Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:54.801Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:54.899Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:54.902Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:54.925Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:54.927Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:55.020Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T01:57:55.022Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:02:57.374Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:02:57.377Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:02:57.461Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:02:57.464Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:02:57.493Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:02:57.496Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:02:57.566Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:02:57.570Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:06:02.875Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:06:02.878Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:06:02.989Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:06:02.994Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:06:03.022Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:06:03.026Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:06:03.133Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:06:03.136Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:25.695Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:25.698Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:25.772Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:25.775Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:25.800Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:25.803Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:25.877Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:25.881Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:58.010Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:58.014Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:58.134Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:58.138Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:58.167Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:58.171Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:58.273Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:10:58.276Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:17:33.846Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:17:33.855Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:17:33.961Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:17:33.964Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:17:33.991Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:17:33.994Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:17:34.067Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:17:34.071Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:33.432Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:33.435Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:33.561Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:33.566Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:33.596Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:33.599Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:33.799Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:33.804Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:51.020Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:51.024Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:51.193Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:51.197Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:51.253Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:51.257Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:51.409Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:19:51.414Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:14.861Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:14.866Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:14.987Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:14.991Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:15.019Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:15.022Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:15.120Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:15.122Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:19.607Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:19.610Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:19.739Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:19.742Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:19.803Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:19.807Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:20.093Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:25:20.095Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:39.861Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:39.864Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:39.936Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:39.938Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:39.962Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:39.965Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:40.036Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:40.039Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:42.880Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:42.883Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:42.985Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:42.988Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:43.015Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:43.018Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:43.111Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:28:43.113Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz, Mark Neil - Finalization\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:01.033Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:01.036Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:01.109Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:01.113Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:01.135Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:01.138Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:01.211Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:01.214Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:03.927Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:03.930Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:04.003Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:04.005Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:04.035Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:04.037Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:04.129Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:04.131Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:40:05.971Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: age","stack":"Error: Undefined fact: age\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T02:40:05.974Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: age","stack":"Error: Event processing failed: Undefined fact: age\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T02:40:05.976Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: age","stack":"Error: Event processing failed: Undefined fact: age\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T02:40:19.264Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: age","stack":"Error: Undefined fact: age\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T02:40:19.266Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: age","stack":"Error: Event processing failed: Undefined fact: age\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T02:40:19.269Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: age","stack":"Error: Event processing failed: Undefined fact: age\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T02:41:04.225Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: age","stack":"Error: Undefined fact: age\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T02:41:04.228Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: age","stack":"Error: Event processing failed: Undefined fact: age\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T02:41:04.230Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: age","stack":"Error: Event processing failed: Undefined fact: age\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T02:41:08.302Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: age","stack":"Error: Undefined fact: age\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T02:41:08.307Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: age","stack":"Error: Event processing failed: Undefined fact: age\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T02:41:08.309Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: age","stack":"Error: Event processing failed: Undefined fact: age\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T02:47:06.799Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:47:06.804Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:47:06.869Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:47:06.871Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:47:06.887Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:47:06.889Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:47:06.929Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:47:06.931Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:52.893Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:52.896Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:52.953Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:52.956Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:52.970Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:52.972Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:53.036Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:53.038Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:53.430Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:53.432Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:53.476Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:53.477Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:53.491Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:53.492Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:53.533Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:53.535Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:55.566Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:55.568Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:55.627Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:55.630Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:55.651Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:55.653Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:55.697Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:53:55.699Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:55:38.974Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:55:38.976Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:55:39.041Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:55:39.044Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:55:39.066Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:55:39.069Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:55:39.143Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:55:39.146Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:56:15.216Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:56:15.218Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:56:15.261Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:56:15.264Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:56:15.285Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:56:15.286Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:56:15.327Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T02:56:15.329Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Rule_Dem\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:12.678Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:12.681Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:12.729Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:12.731Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:12.743Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:12.744Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:12.783Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:12.784Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:27.726Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:27.728Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:27.779Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:27.780Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:27.795Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:27.796Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:27.851Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:27.852Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:41.096Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:41.097Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:41.134Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:41.135Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:41.148Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:41.150Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:41.185Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:43:41.187Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:46:35.755Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:46:35.757Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:46:35.797Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:46:35.799Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:46:35.812Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:46:35.814Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:46:35.851Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:46:35.853Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:48:42.021Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:48:42.023Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:48:42.080Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:48:42.082Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:48:42.097Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:48:42.099Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:48:42.149Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:48:42.150Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:49:43.738Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:49:43.740Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:49:43.776Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:49:43.778Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:49:43.791Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:49:43.793Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:49:43.829Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:49:43.830Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:52:20.274Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:52:20.275Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:52:20.312Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:52:20.314Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:52:20.326Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:52:20.328Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:52:20.364Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:52:20.365Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:54:36.817Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:54:36.819Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:54:36.867Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:54:36.869Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:54:36.883Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:54:36.885Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:54:36.935Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:54:36.937Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:55:12.995Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:55:12.998Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:55:13.073Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:55:13.075Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:55:13.091Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:55:13.093Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:55:13.167Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:55:13.169Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:58:57.470Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:58:57.472Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:58:57.509Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:58:57.511Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:58:57.524Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:58:57.525Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:58:57.564Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T04:58:57.566Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:00:51.958Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:00:51.960Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:01:06.517Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:01:06.518Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:06:14.088Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:06:14.091Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:06:14.159Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:06:14.162Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:06:14.235Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:06:14.236Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:06:14.290Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:06:14.291Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:07:25.190Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:07:25.192Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:07:25.251Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:07:25.253Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:07:25.271Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:07:25.273Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:07:25.330Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:07:25.332Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:10:53.969Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:10:53.971Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:10:54.008Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:10:54.010Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:10:54.023Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:10:54.024Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:10:54.062Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:10:54.063Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:11:19.034Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:11:19.036Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:11:19.089Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:11:19.090Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:11:19.105Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:11:19.106Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:11:19.163Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:11:19.167Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:13:17.670Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:13:17.672Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:13:17.718Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:13:17.720Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:13:17.738Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:13:17.740Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:13:17.804Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:13:17.805Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:15.674Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:15.676Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:15.714Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:15.716Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:15.729Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:15.730Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:15.766Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:15.768Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:17.577Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:17.578Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:17.615Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:17.616Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:17.630Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:17.631Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:17.667Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:15:17.669Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:16:46.293Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:16:46.295Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:16:46.345Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:16:46.346Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:16:46.362Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:16:46.364Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:16:46.401Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:16:46.402Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:23.421Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:23.423Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:30.801Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:30.802Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:36.358Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:36.360Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:39.525Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:39.526Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:39.597Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:39.599Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:39.613Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:39.615Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:39.665Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:39.667Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:51.879Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:17:51.880Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:19:41.630Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:19:41.634Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:19:41.705Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:19:41.707Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:19:41.753Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:19:41.754Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:19:41.817Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:19:41.820Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:20:31.732Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:20:31.734Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:21:17.593Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:21:17.595Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:21:20.766Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:21:20.768Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:26:49.230Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:26:49.231Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:26:49.274Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:26:49.277Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:26:49.294Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:26:49.296Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:26:49.356Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:26:49.357Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:30:44.091Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:30:44.094Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:30:44.162Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:30:44.163Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:30:44.178Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:30:44.180Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:30:44.240Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:30:44.242Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:04.015Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:04.017Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:04.057Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:04.058Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:04.071Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:04.073Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:04.110Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:04.111Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:05.148Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:05.150Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:05.187Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:05.188Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:05.205Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:05.207Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:05.252Z","level":"ERROR","message":"Error fetching consumer points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:47:05.254Z","level":"ERROR","message":"API Error on GET /api/consumer/points","data":{"message":"pointsHistory.filter is not a function","stack":"TypeError: pointsHistory.filter is not a function\n    at PointsExpirationService.findMostRecentQualifyingDate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:95:44)\n    at PointsExpirationService.calculateJPExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:67:33)\n    at PointsExpirationService.calculateNextExpiration (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:56:19)\n    at PointsExpirationService.getExpirationDetails (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\PointsExpirationService.js:171:33)\n    at Object.getConsumerPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\services\\consumerService.js:80:47)\n    at getPoints (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\consumerController.js:21:48)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)"}}
{"timestamp":"2025-07-10T05:53:43.143Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: orderTotal","stack":"Error: Undefined fact: orderTotal\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 3)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T05:53:43.144Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:53:43.145Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:54:02.542Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: orderTotal","stack":"Error: Undefined fact: orderTotal\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 3)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T05:54:02.543Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:54:02.544Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:54:05.644Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: orderTotal","stack":"Error: Undefined fact: orderTotal\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 3)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T05:54:05.645Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:54:05.646Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:54:18.872Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: orderTotal","stack":"Error: Undefined fact: orderTotal\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 3)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T05:54:18.875Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:54:18.875Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:55:32.404Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: orderTotal","stack":"Error: Undefined fact: orderTotal\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 3)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T05:55:32.405Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:55:32.406Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:55:35.350Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: orderTotal","stack":"Error: Undefined fact: orderTotal\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 3)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T05:55:35.351Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:55:35.351Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:55:57.354Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: orderTotal","stack":"Error: Undefined fact: orderTotal\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 3)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T05:55:57.357Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:55:57.358Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:57:34.990Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: orderTotal","stack":"Error: Undefined fact: orderTotal\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 3)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T05:57:34.991Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:57:34.992Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:57:39.175Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: orderTotal","stack":"Error: Undefined fact: orderTotal\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 3)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T05:57:39.176Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:57:39.177Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:57:40.962Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: orderTotal","stack":"Error: Undefined fact: orderTotal\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 3)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T05:57:40.964Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:57:40.966Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:57:50.916Z","level":"ERROR","message":"Error processing event","data":{"message":"Undefined fact: orderTotal","stack":"Error: Undefined fact: orderTotal\n    at new UndefinedFactError (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\errors.js:25:138)\n    at Almanac.factValue (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\almanac.js:204:33)\n    at Condition.evaluate (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\condition.js:143:65)\n    at evaluateCondition (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:290:28)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:309:18\n    at Array.map (<anonymous>)\n    at evaluateConditions (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:308:39)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\rule.js:346:115\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 3)","code":"UNDEFINED_FACT"}}
{"timestamp":"2025-07-10T05:57:50.918Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T05:57:50.919Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Undefined fact: orderTotal","stack":"Error: Event processing failed: Undefined fact: orderTotal\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:385:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T06:23:10.745Z","level":"ERROR","message":"Error processing event","data":{"message":"Insufficient points for redemption. Available: 0, Requested: 500","stack":"Error: Insufficient points for redemption. Available: 0, Requested: 500\n    at ValidationHelpers.validateRedemptionEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:162:13)\n    at ValidationHelpers.validateCompleteEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:261:10)\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:406:25)\n    at testProblematicEvents (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\test-problematic-events.js:68:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}}
{"timestamp":"2025-07-10T06:24:16.139Z","level":"ERROR","message":"Error processing event","data":{"message":"adjustmentPoints is required for ADJUSTMENT events","stack":"Error: adjustmentPoints is required for ADJUSTMENT events\n    at ValidationHelpers.validateAdjustmentEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:218:13)\n    at ValidationHelpers.validateCompleteEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:264:10)\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:406:25)\n    at testCompleteEventTypes (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\test-complete-event-types.js:112:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}}
{"timestamp":"2025-07-10T07:18:19.066Z","level":"ERROR","message":"Event processing failed","data":{"stack":"Error: Invalid event type: purchase. Must be one of: PURCHASE, REGISTRATION, RECYCLE, CONSULTATION, ADJUSTMENT, REDEMPTION\n    at ValidationHelpers.validateEventType (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:60:13)\n    at ValidationHelpers.validateEventData (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:33:10)\n    at ValidationHelpers.validateCompleteEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:257:10)\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:273:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async testCleanedEngines (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\test-cleaned-engines.js:45:20)"}}
{"timestamp":"2025-07-10T07:20:36.526Z","level":"ERROR","message":"Event processing failed","data":{"stack":"Error: Invalid event type: purchase. Must be one of: PURCHASE, REGISTRATION, RECYCLE, CONSULTATION, ADJUSTMENT, REDEMPTION\n    at ValidationHelpers.validateEventType (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:60:13)\n    at ValidationHelpers.validateEventData (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:33:10)\n    at ValidationHelpers.validateCompleteEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:257:10)\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:273:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async testCleanedEngines (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\test-cleaned-engines.js:45:20)"}}
{"timestamp":"2025-07-10T07:20:55.143Z","level":"ERROR","message":"Event processing failed","data":{"stack":"TypeError: consumerService.updateMarket is not a function\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:278:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async testCleanedEngines (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\test-cleaned-engines.js:45:20)"}}
{"timestamp":"2025-07-10T07:21:53.046Z","level":"ERROR","message":"Event processing failed","data":{"stack":"TypeError: Cannot read properties of undefined (reading 'length')\n    at Engine.<anonymous> (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:81:44)\n    at EventEmitter.emitAsync (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\eventemitter2\\lib\\eventemitter2.js:1142:31)\n    at C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\node_modules\\json-rules-engine\\dist\\engine.js:364:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 2)"}}
{"timestamp":"2025-07-10T07:22:38.034Z","level":"ERROR","message":"Error in ORDER_BASE_POINT handler","data":{"stack":"TypeError: FormattingHelpers.formatRewardDescription is not a function\n    at Engine.<anonymous> (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:145:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async Promise.all (index 2)"}}
{"timestamp":"2025-07-10T07:22:38.039Z","level":"ERROR","message":"Error in FLEXIBLE_CAMPAIGN_BONUS handler","data":{"stack":"TypeError: FormattingHelpers.formatRewardDescription is not a function\n    at Engine.<anonymous> (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:145:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async Promise.all (index 3)"}}
{"timestamp":"2025-07-10T07:22:38.040Z","level":"ERROR","message":"Event processing failed","data":{"stack":"TypeError: consumerService.addPoints is not a function\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:288:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async testCleanedEngines (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\test-cleaned-engines.js:45:20)"}}
{"timestamp":"2025-07-10T07:25:09.968Z","level":"ERROR","message":"Event processing failed","data":{"stack":"TypeError: Cannot read properties of undefined (reading 'getBalance')\n    at ValidationHelpers.validateRedemptionEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:160:44)\n    at ValidationHelpers.validateCompleteEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:261:10)\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:271:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async testAllEventTypes (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\test-all-event-types.js:75:24)"}}
{"timestamp":"2025-07-10T07:25:37.352Z","level":"ERROR","message":"Event processing failed","data":{"stack":"TypeError: Cannot read properties of undefined (reading 'getBalance')\n    at ValidationHelpers.validateRedemptionEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:162:44)\n    at ValidationHelpers.validateCompleteEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:263:10)\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:271:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async testAllEventTypes (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\test-all-event-types.js:75:24)"}}
{"timestamp":"2025-07-10T07:46:32.116Z","level":"ERROR","message":"Event processing failed","data":{"stack":"TypeError: Cannot read properties of undefined (reading 'getConsumerById')\n    at ValidationHelpers.validateRecyclingEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:123:34)\n    at ValidationHelpers.validateCompleteEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\helpers\\ValidationHelpers.js:262:10)\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:404:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T07:46:32.118Z","level":"ERROR","message":"Event processing error","data":{"message":"Event processing failed: Cannot read properties of undefined (reading 'getConsumerById')","stack":"Error: Event processing failed: Cannot read properties of undefined (reading 'getConsumerById')\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:486:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
{"timestamp":"2025-07-10T07:46:32.120Z","level":"ERROR","message":"API Error on POST /api/events/process","data":{"message":"Event processing failed: Cannot read properties of undefined (reading 'getConsumerById')","stack":"Error: Event processing failed: Cannot read properties of undefined (reading 'getConsumerById')\n    at RulesEngine.processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\engine\\RulesEngine.js:486:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async processEvent (C:\\Users\\autriz.mg\\OneDrive - Procter and Gamble\\Desktop\\Autriz_MPR\\Rule-Engine\\backend\\src\\controllers\\eventsController.js:43:22)"}}
